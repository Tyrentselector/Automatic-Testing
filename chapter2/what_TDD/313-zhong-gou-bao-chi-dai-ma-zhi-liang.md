# 重构
我们在不断为系统添加功能及方法时不断对代码结构进行微调，产品必然会变得很不一致、几经失衡、不易理解、难以扩展。这是就轮到我们的重构上场了。

重构——重构是一种训练有素、有条不稳的代码清理方式，它必须在不改变代码外部行为的情况下，改进程序的内部结构。

重构不仅是对代码进行修改，而是通过一种严谨的方式改进现有设计重构能小步改变代码结构而不改变代码行为。重构也许会显著改变当前设计，不过这种改变总是小步进行的，而且每一步都会验证行为没有改变。

重构时不能引入缺陷，也不能添加新功能。重构应当保持系统原有行为。我们可以通过自动化测试检测系统行为是否发生了改变。测试可以确保软件正常运行。

# 保证产品正常运行

既要不断重构代码又要保证重构工作中不会影响系统原有行为，可不是件容易的事。手动测试很慢，同时也很容易出错，开发人员都不喜欢做手动测试，总会跳过某些测试步骤猜想待测功能不会有问题。

# 自动化测试护航

回归在软件开发领域是指，已有的曾经可用的功能不再正常运转。回归不会平白无故的发生，事实上是我们在改动代码的过程中引入了缺陷才会出现回归。我们可以依靠测试套件快速知道当前改动是否会破坏现有功能。这种测试称为回归测试，在整个研发过程中，回归测试会被执行多次，以保证系统在成千上百次中的修改后依然能够正常运行。换而言回归测试是为了保证自上次运行测试以来，软件没有发生回归。