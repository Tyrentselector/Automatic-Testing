# 从需求到测试

开发任何系统前我们都要先对需求进行分析，使得她变得更小，更具体。

## 分解需求

你可能想把现有需求划分成“需要做的事”——也就是任务——完成了这些任务，也就满足了需求。这次我们换种方式，将需求需求分解为一系列的测试，通过了所有测试也就满足了所有需求。  
比如我们正在开发一套邮件模板系统。“模板中没有变量的时候，我们就将模板原封发出”，“在祝贺信中，表示收件人名的变量应该替换为每个收件人的名字”。不久你就会有很多这样的测试，合起来就不是在测试系统中的一小部分啦。最终你将测试将会覆盖产品的绝大部分，甚至是全部的行为和功能。

为了说明任务和测试之间的区别，我们通过将邮件系统分解成任务和测试进行对比。对比左边的任务和右边的测试，很明显右侧更能表明软件拥有的功能。

| 把模板子系统分解为任务 | 把模板子系统分解为测试 |
| :---: | :---: |
| 写一个正则表单式确定模板中的变量 | 没有变量的模板渲染前后不变 |
| 实现一个表达式模板解析器 | 含有一个变量的模板渲染后，应该变量替换为相应值 |
| 实现一个模板引擎，内部实现使用模板解析器 | 含有多个变量的模板渲染后，相应变量替换为相应值 |



